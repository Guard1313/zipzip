using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class PlayerBehaviourScript : MonoBehaviour {

	public SpriteRenderer sprite;
	public LayerMask groundLayer;
	public Transform groundCheck;
	public float groundCheckRadius;
	private bool grounded;


	// Use this for initialization
	void Start () {
		
	}

	void FixedUpdate () {
		grounded = Physics2D.OverlapCircle (groundCheck.position, groundCheckRadius, groundLayer);

	}
	// Update is called once per frame
	void Update () {
		var rigidBody = GetComponent<Rigidbody2D> ();
		var transform = GetComponent<Transform> ();

		if (Input.GetKey ("right")) {
			sprite.flipX = false;
			rigidBody.velocity = new Vector2 (5, rigidBody.velocity.y);

		}

		if (Input.GetKey ("left")) {
			sprite.flipX = true;
			rigidBody.velocity = new Vector2 (-5, rigidBody.velocity.y);

		}

		if (Input.GetKeyDown ("up") && grounded) {
					rigidBody.velocity = new Vector2 (rigidBody.velocity.x, 12);
				
			}
			

		if (transform.position.y < -6) {
			if (transform.position.x < 0) {
				transform.position = new Vector2 (-8, -3);
			
			} else {
				transform.position = new Vector2 (-3, -3);
			}
		}
		

	}
	public void OnTriggerEnter2D (Collider2D other) { 
		if (other.name == "EnemyDamage") {
			transform.position = new Vector2 (-8, -3);
		}

	}
}
